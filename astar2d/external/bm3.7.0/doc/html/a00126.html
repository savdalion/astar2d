<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>BitMagic: bvector serialization</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>bvector serialization<br/>
<small>
[<a class="el" href="a00117.html">BitMagic C++ Library</a>]</small>
</h1>
<p><div class="dynheader">
Collaboration diagram for bvector serialization:</div>
<div class="dynsection">
<center><table><tr><td><img src="a00126.png" border="0" alt="" usemap="#a00126_map"/>
<map name="a00126_map" id="a00126">
<area shape="rect" href="a00117.html" title="For more information please visit: http://bmagic.sourceforge.net." alt="" coords="5,5,149,35"/></map></td></tr></table></center>
</div>
</p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00083.html">bm::serializer&lt; BV &gt;</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Bit-vector serialization class.  <a href="a00083.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00057.html">bm::deseriaizer_base&lt; DEC &gt;</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Base deserialization class.  <a href="a00057.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00058.html">bm::deserializer&lt; BV, DEC &gt;</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Class <a class="el" href="a00058.html" title="Class deserializer.">deserializer</a>.  <a href="a00058.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00082.html">bm::serial_stream_iterator&lt; DEC &gt;</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Serialization stream iterator.  <a href="a00082.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00075.html">bm::operation_deserializer&lt; BV &gt;</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Class <a class="el" href="a00058.html" title="Class deserializer.">deserializer</a>, can perform logical operation on bit-vector and serialized bit-vector.  <a href="a00075.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00126.html#ga537dfe6318f1f1fe18d86dac312be978">bm::serialization_flags</a> { <a class="el" href="a00126.html#gga537dfe6318f1f1fe18d86dac312be978acdd8c071c079589388c3ca7bd4f367c8">bm::BM_NO_BYTE_ORDER</a> =  1, 
<a class="el" href="a00126.html#gga537dfe6318f1f1fe18d86dac312be978a5521473081d341bc32ac59538e6a8096">bm::BM_NO_GAP_LENGTH</a> =  (1 &lt;&lt; 1)
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Bit mask flags for serialization algorithm. </p>
 <a href="a00126.html#ga537dfe6318f1f1fe18d86dac312be978">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class BV &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00126.html#ga5210c3bda57254ef2e8c71e23306cc88">bm::serialize</a> (const BV &amp;bv, unsigned char *buf, <a class="el" href="a00115.html#a17fd5ba52db3ddda05e6f8dd5000a1a4">bm::word_t</a> *temp_block, unsigned serialization_flags=0)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Saves bitvector into memory.  <a href="#ga5210c3bda57254ef2e8c71e23306cc88"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class BV &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00126.html#ga213033b5cc6add74aa4bd1d614b56192">bm::serialize</a> (BV &amp;bv, unsigned char *buf, unsigned serialization_flags=0)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Saves bitvector into memory. Allocates temporary memory block for <a class="el" href="a00043.html" title="bitvector with runtime compression of bits.">bvector</a>.  <a href="#ga213033b5cc6add74aa4bd1d614b56192"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class BV &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">unsigned&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00126.html#gafbe633db8da3d867f098468269fd8d3d">bm::deserialize</a> (BV &amp;bv, const unsigned char *buf, <a class="el" href="a00115.html#a17fd5ba52db3ddda05e6f8dd5000a1a4">bm::word_t</a> *temp_block=0)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Bitvector deserialization from memory.  <a href="#gafbe633db8da3d867f098468269fd8d3d"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>bvector serialization </p>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="ga537dfe6318f1f1fe18d86dac312be978"></a><!-- doxytag: member="bm::serialization_flags" ref="ga537dfe6318f1f1fe18d86dac312be978" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="a00126.html#ga537dfe6318f1f1fe18d86dac312be978">bm::serialization_flags</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Bit mask flags for serialization algorithm. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga537dfe6318f1f1fe18d86dac312be978acdd8c071c079589388c3ca7bd4f367c8"></a><!-- doxytag: member="BM_NO_BYTE_ORDER" ref="gga537dfe6318f1f1fe18d86dac312be978acdd8c071c079589388c3ca7bd4f367c8" args="" -->BM_NO_BYTE_ORDER</em>&nbsp;</td><td>
<p>save no byte-order info (save some space) </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga537dfe6318f1f1fe18d86dac312be978a5521473081d341bc32ac59538e6a8096"></a><!-- doxytag: member="BM_NO_GAP_LENGTH" ref="gga537dfe6318f1f1fe18d86dac312be978a5521473081d341bc32ac59538e6a8096" args="" -->BM_NO_GAP_LENGTH</em>&nbsp;</td><td>
<p>save no GAP info (save some space) </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="a00096_source.html#l01037">1037</a> of file <a class="el" href="a00096_source.html">bmserial.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gafbe633db8da3d867f098468269fd8d3d"></a><!-- doxytag: member="bm::deserialize" ref="gafbe633db8da3d867f098468269fd8d3d" args="(BV &amp;bv, const unsigned char *buf, bm::word_t *temp_block=0)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BV &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">unsigned bm::deserialize </td>
          <td>(</td>
          <td class="paramtype">BV &amp;&nbsp;</td>
          <td class="paramname"> <em>bv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00115.html#a17fd5ba52db3ddda05e6f8dd5000a1a4">bm::word_t</a> *&nbsp;</td>
          <td class="paramname"> <em>temp_block</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Bitvector deserialization from memory. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buf</em>&nbsp;</td><td>- pointer on memory which keeps serialized <a class="el" href="a00043.html" title="bitvector with runtime compression of bits.">bvector</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>temp_block</em>&nbsp;</td><td>- pointer on temporary block, if NULL <a class="el" href="a00043.html" title="bitvector with runtime compression of bits.">bvector</a> allocates own. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Number of bytes consumed by <a class="el" href="a00058.html" title="Class deserializer.">deserializer</a>.</dd></dl>
<p>Function desrializes bitvector from memory block containig results of previous serialization. Function does not remove bits which are currently set. Effectively it means OR logical operation between current bitset and previously serialized one. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="a00004.html#a21">sample4.cpp</a>.</dd>
</dl>
<p>Definition at line <a class="el" href="a00096_source.html#l01146">1146</a> of file <a class="el" href="a00096_source.html">bmserial.h</a>.</p>

<p>References <a class="el" href="a00093_source.html#l00399">bm::BigEndian</a>, <a class="el" href="a00092_source.html#l00050">BM_ASSERT</a>, <a class="el" href="a00096_source.html#l00100">bm::BM_HM_NO_BO</a>, <a class="el" href="a00093_source.html#l00441">bm::globals&lt; T &gt;::byte_order()</a>, <a class="el" href="a00096_source.html#l01424">bm::deserializer&lt; BV, DEC &gt;::deserialize()</a>, <a class="el" href="a00104_source.html#l00079">bm::decoder_base::get_8()</a>, and <a class="el" href="a00093_source.html#l00400">bm::LittleEndian</a>.</p>

<p>Referenced by <a class="el" href="a00109_source.html#l00105">main()</a>.</p>

</div>
</div>
<a class="anchor" id="ga213033b5cc6add74aa4bd1d614b56192"></a><!-- doxytag: member="bm::serialize" ref="ga213033b5cc6add74aa4bd1d614b56192" args="(BV &amp;bv, unsigned char *buf, unsigned serialization_flags=0)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BV &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">unsigned bm::serialize </td>
          <td>(</td>
          <td class="paramtype">BV &amp;&nbsp;</td>
          <td class="paramname"> <em>bv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>serialization_flags</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Saves bitvector into memory. Allocates temporary memory block for <a class="el" href="a00043.html" title="bitvector with runtime compression of bits.">bvector</a>. </p>

<p>Definition at line <a class="el" href="a00096_source.html#l01110">1110</a> of file <a class="el" href="a00096_source.html">bmserial.h</a>.</p>

<p>References <a class="el" href="a00096_source.html#l01038">bm::BM_NO_BYTE_ORDER</a>, <a class="el" href="a00096_source.html#l01039">bm::BM_NO_GAP_LENGTH</a>, <a class="el" href="a00096_source.html#l00580">bm::serializer&lt; BV &gt;::byte_order_serialization()</a>, <a class="el" href="a00096_source.html#l00574">bm::serializer&lt; BV &gt;::gap_length_serialization()</a>, <a class="el" href="a00096_source.html#l00814">bm::serializer&lt; BV &gt;::serialize()</a>, and <a class="el" href="a00096_source.html#l00555">bm::serializer&lt; BV &gt;::set_compression_level()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5210c3bda57254ef2e8c71e23306cc88"></a><!-- doxytag: member="bm::serialize" ref="ga5210c3bda57254ef2e8c71e23306cc88" args="(const BV &amp;bv, unsigned char *buf, bm::word_t *temp_block, unsigned serialization_flags=0)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class BV &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">unsigned bm::serialize </td>
          <td>(</td>
          <td class="paramtype">const BV &amp;&nbsp;</td>
          <td class="paramname"> <em>bv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00115.html#a17fd5ba52db3ddda05e6f8dd5000a1a4">bm::word_t</a> *&nbsp;</td>
          <td class="paramname"> <em>temp_block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>serialization_flags</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Saves bitvector into memory. </p>
<p>Function serializes content of the bitvector into memory. Serialization adaptively uses compression(variation of GAP encoding) when it is benefitial.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buf</em>&nbsp;</td><td>- pointer on target memory area. No range checking in the function. It is responsibility of programmer to allocate sufficient amount of memory using information from calc_stat function.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>temp_block</em>&nbsp;</td><td>- pointer on temporary memory block. Cannot be 0; If you want to save memory across multiple bvectors allocate temporary block using allocate_tempblock and pass it to serialize. (Of course serialize does not deallocate temp_block.)</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>serialization_flags</em>&nbsp;</td><td>Flags controlling serilization (bit-mask) (use OR-ed serialization flags)</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Size of serialization block. </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd>calc_stat, <a class="el" href="a00126.html#ga537dfe6318f1f1fe18d86dac312be978" title="Bit mask flags for serialization algorithm.">serialization_flags</a> </dd></dl>

<p>Definition at line <a class="el" href="a00096_source.html#l01084">1084</a> of file <a class="el" href="a00096_source.html">bmserial.h</a>.</p>

<p>References <a class="el" href="a00096_source.html#l01038">bm::BM_NO_BYTE_ORDER</a>, <a class="el" href="a00096_source.html#l01039">bm::BM_NO_GAP_LENGTH</a>, <a class="el" href="a00096_source.html#l00580">bm::serializer&lt; BV &gt;::byte_order_serialization()</a>, <a class="el" href="a00096_source.html#l00574">bm::serializer&lt; BV &gt;::gap_length_serialization()</a>, <a class="el" href="a00096_source.html#l00814">bm::serializer&lt; BV &gt;::serialize()</a>, and <a class="el" href="a00096_source.html#l00555">bm::serializer&lt; BV &gt;::set_compression_level()</a>.</p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Sun Apr 25 09:37:40 2010 for BitMagic by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
